# Восстановление пароля root

Для смены пароля root, не зная его, делаем следующее:

Получив физический доступ к компьютеру, нажимаем _Ctrl + Alt + Del_(возможно дважды) - система уходит в перезагрузку.

  
**1 вариант)**

*   Попробовать загрузиться в однопользовательском режиме (single mode). Для этого в меню загрузчика (Grub или Lilo - всё равно) отредактировать вариант, начинающийся со словаkernel \- добавить в конец 1 или словоsingle, заменив также режим монтирования диска (если указан) с ro на rw (чтобы можно было сохранить новый пароль).

*   Если при загрузке запрашивает пароль root'a, то нужно перезагрузиться и изменить команду загрузчика по другому, добавив вместо single параметр `init=/bin/bash`, заменив также режим монтирования диска (если указан) с ro на rw

  
**2 вариант)**

*   Входим в интерактивный режим загрузчика (см выше) и указываем ему опцию:

```
linux init=/bin/bash
```

*   После загрузки оболочки необходимо перемонтировать корневой раздел в режим RW:

```
mount -o remount,rw /
```

*   Меняем пароль:

```
passwd
```

*   Сбросим данные из кеша на диск. Для этого достаточно просто перемонтировать корневой раздел обратно в режим только для чтения:

```
mount -o remount,ro /
```

*   Теперь можно перезагрузить компьютер в обычный режим. Не забывайте, что скрипты инициализации для нашего сеанса /bash не работают.

  

## Debian, загрузчик GRUB
  
Если вы забыли пароль root в debian, то не нужно сильно расстраиваться. Существует несколько способов, чтобы его восстановить. В данной статье рассмотрим один из них: восстановление пароля root в linux с помощью загрузчика GRUB.

*   В меню загрузчика GRUB стрелками выбираем нужную версию linux, для которой нужно восстановить пароль.

Нажимаем клавишу e (Edit). На экране появляется несколько строк, из которых нас интересует строка ядра:

```
kernel /образ_ядра root=/корневой_раздел ro quiet
```

*   Теперь нам надо отредактировать строку ядра и сделать её вот такого вида:

```
kernel /образ_ядра root=/корневой_раздел rw init=/bin/bash
```

или

```
kernel /образ_ядра root=/корневой_раздел rw init=/bin/sh
```

Нажимаем Ctrl-X (Boot). В результате мы загрузимся в системную консоль с правами root и сможем поменяем пароль, с помощью стандартной команды смены пароля:

```
passwd
```

Вводим новый пароль два раза и перезагружаемся. Вот этими простыми действиями, мы восстановили пароль root.

## Cсылки

Больше про загрузчик [Lilo](http://sysadminwiki.ru/wiki/Lilo "Lilo") можно узнать в спец статье.

[http://special.w6.ru/node/37](http://special.w6.ru/node/37)

[http://itshaman.ru/articles/12/passwd-root-linux](http://itshaman.ru/articles/12/passwd-root-linux)

**********
[Ubuntu](/tags/Ubuntu.md)
[CentOS](/tags/CentOS.md)
[Debian](/tags/Debian.md)
