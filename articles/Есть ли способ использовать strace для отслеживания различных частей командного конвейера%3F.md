# Есть ли способ использовать strace для отслеживания различных частей командного конвейера?

Вы можете получить трасировку с:

```console
$ strace -f sh -c 'command1 | command2'
```

С «-f» strace будет «следовать» вызовам ветвления в дочерних процессах (поэтому вы также получите любые подкоманды, вызываемые command1 или command2, которые могут быть или не быть теми, которые вы хотите). Кроме того, вы получите след от `sh` процесса тоже. Если вы хотите, чтобы каждый процесс выводился в отдельном файле, опция -ff отслеживает подпроцессы и добавляет PID к имени файла -o, как в:

```cosnole
$ strace -ff -o trace sh -c 'command1 | command2'
```

Это должно создать отдельные файлы `trace.<PID>` для каждого разветвленного потомка.
**********
[strace](/tags/strace.md)
