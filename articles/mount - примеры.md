
# mount - примеры

#### Просмотр примонтированых устройств осуществляется командой:

```bash
sudo mount
```

#### После этого на экране можно увидеть:

> /dev/sda1 on / type reiserfs (rw,relatime,notail) tmpfs on /lib/init/rw type tmpfs (rw,nosuid,mode=0755)
> /proc on /proc type proc (rw,noexec,nosuid,nodev)
> sysfs on /sys type sysfs (rw,noexec,nosuid,nodev)
> varrun on /var/run type tmpfs (rw,nosuid,mode=0755)
> varlock on /var/lock type tmpfs (rw,noexec,nosuid,nodev,mode=1777)
> udev on /dev type tmpfs (rw,mode=0755)
> tmpfs on /dev/shm type tmpfs (rw,nosuid,nodev)
> devpts on /dev/pts type devpts (rw,noexec,nosuid,gid=5,mode=620)
> fusectl on /sys/fs/fuse/connections type fusectl (rw)
> lrm on /lib/modules/2.6.27-14-generic/volatile type tmpfs (rw,mode=755)
> /dev/sda3 on /home type ext3 (rw,relatime)
> securityfs on /sys/kernel/security type securityfs (rw)
> binfmt_misc on /proc/sys/fs/binfmt_misc type binfmt_misc (rw,noexec,nosuid,nodev)
> gvfs-fuse-daemon on /home/user/.gvfs type fuse.gvfs-fuse-daemon (rw,nosuid,nodev,user=user)
> /dev/sdc on /media/USBFlash type vfat (rw,nosuid,nodev,uhelper=hal, shortname=mixed,uid=1000,utf8, umask=077,flush)
> в первой строке сообщается, что в качестве корневой ФС выступает файловая система reiserfs с параметрами монтирования: доступ на чтение и запись (rw)
> /dev/sda3 — это раздел диска /home
> /dev/sdc — это примонтированное сменное USB-устройство
> Этого же результата можно достигнуть посмотрев содержимое файла /etc/mtab (в некоторых системах Linux файл называется /etc/mnt/tab)

```bash
cat /etc/mtab
```

#### Монтирование разделов жесткого диска

Из приведенного примера видно, что жесткий диск **/dev/sdb** подключен, но не примонтирован. Примонтируем раздел жесткого диска **/dev/sdb1** к диску **/dev/sda**. Точку монтирования выберем, к примеру - **/home/user/Видео**. Точку монтирования можно взять любую.

```bash
sudo mount /dev/sdb1 /home/user/Видео
```

где **user** — это название Вашего имени пользователя.
Все очень просто, сначала пишется команда mount, потом пишется то, что нужно присоединять (цифра показывает номер раздела, у нас он всего один), а потом куда присоединять. Почти всегда этого достаточно. Диск, командой mount, монтируется в указанную папку. В некоторых случаях, когда имеются логические ошибки на разделах подключаемого жесткого диска, нужно дополнительно указать тип файловой системы. В данном случае у нас **ext3**.

```bash
sudo mount -t ext3 /dev/sdb1 /home/user/Видео
```

Так же этот параметр может принимать значения:
**-t ntfsили -t ntfs-3g**
**-t vfat**
**-t iso9660**
Соответственно для NTFS, FAT и CD-дисков файловых систем. Последний нужен только для подключения CD/DVD-ROM устройств и образа диска .iso.

Чтобы вручную задать параметры доступа к примонтированному разделу следует указать параметр:
**-o rw**
**-o ro**
Первый разрешает чтение и запись, второй только чтение. Ну например, так:

```bash
sudo mount -t ext3 -o rw /dev/sdb1 /home/user/Видео
```

Дополнительные параметры, которые помогают в некоторых случаях:

```bash
sudo mount -t ext3 -o rw,iocharset=utf8,codepage=866 /dev/sdb1 /home/user/Видео
```

Первый явно задает кодировку системной локали, в нашем случае это utf8 (для разных дистрибутивов она своя, но чаще utf8), а другая добавляет поддержку русского языка.

Если все же жесткий диск отказывается монтироваться в операционной системе Linux, то можно примонтировать его вручную. Параметр -o force позволяет принудительно монтировать разделы жесткого диска в линуксе. Ну, к примеру, так:

```bash
sudo mount -t ext3 -o force /dev/sdb1 /home/user/Видео
```

У меня, к примеру, раздел жесткого диска не хотел монтироваться после подключения к Windows-машине, которая была заражена вирусами. Так получилось, что вирус кинул autorun.exe в корень моего раздела и Linux из-за этого не хотел монтировать этот раздел. Данный выше параметр команды mount помог примонтировать инфицированный раздел. После чего вирус успешно был удален вручную.

Есть в Linux уникальная возможность указать зеркало папки, которое получает все права и доступные над папкой действия. Допустим, раздел **/dev/sdb1** применяется еще и для хранения документов. Зеркалим его в **/home/user/Документы**:

```bash
sudo mount --bind /home/user/Видео /home/user/Документы
```

Действие команды **mount --bind** напоминает DOS-овский subst.
Посмотреть полную информацию(доступный объем диска, свободное место) о примонтированных устройствах можно командой:

```bash
df -h
```

#### Отмонтироватние устройства производится командой:

```bash
sudo umount /dev/sdb1
```

или

```bash
sudo umount /home/user/Видео
```

#### Монтирование дисков CD/DVD-ROM

Если Вам нужно примонтировать CD/DVD-ROM, то монтирование CD/DVD-ROM осуществляется точно так же, той же командой mount, которая были приведены выше:

```bash
sudo mount -t iso9660 -o ro /dev/cdrom /cd
```

Только при монтировании CD-ROM нужно указать тип файловой системы **iso9660**.

#### Монтирование образов диска ISO

Если Вы хотите примонтировать образ диска ISO, то это тоже достаточно просто сделать командой mount:

```bash
sudo mount -t iso9660 -o loop /home/file.iso /home/iso
```

Где **/home/file.iso** — путь и имя файла ISO
**/home/iso **— точка монтирования
Добавился только параметр -o loop, который указывает, что используется файл .iso.

#### Монтирование сетевых дисков SMB

В некоторых случаях необходимо примонтировать удаленный сетевой диск. В некоторых дистрибутивах Linux, он так же монтируется автоматически (например в Ubuntu) при открытии его по сети. Можно примонтировать его вручную командой mount через консоль. Можно сделать ярлык и поместив его на рабочем столе активировать его когда нужен удаленный доступ к сетевому ресурсу. Ну или мало еще для чего.

```bash
sudo mount -t smbfs -o username=vasja,password=pupkin //pupkin_v/Video /home/user/video
```

Где username=vasja,password=pupkin — это имя и пароль доступа к удаленному сетевому ресурсу, а **//pupkin_v/Video** — имя сетевого ресурса, **/home/user/video** - точка монтирования
**********
[mount](/tags/mount.md)
[файловая система](/tags/%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2%D0%B0%D1%8F%20%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0.md)
